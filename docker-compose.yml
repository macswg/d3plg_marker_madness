services:
  dev:
    build:
      context: .
    # Remove command override - let vite.config.js handle host/port settings
    # This allows proper Tailscale connectivity
    working_dir: /workspace
    volumes:
      - .:/workspace
      - node_modules:/workspace/node_modules
      # Add build-output mount in docker-compose.override.yml for your local path
    ports:
      - "5173:5173"
    environment:
      - VITE_PORT=5173
      - DOCKER=true
    tty: true
    stdin_open: true

volumes:
  node_modules:

